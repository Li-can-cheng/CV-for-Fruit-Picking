第一小题题目的目标：

1.找到图片中的苹果个数

2.将数据集1中每张图苹果个数输出成一张直方图



使用库：

opencv：强大的计算机视觉开源库。

matplotlib：数值计算库NumPy的绘图库。它提供了一个面向对象的API，可以将绘图嵌入到使用通用GUI工具包的程序中。





使用库是因为快捷简便。



## a数据预处理

定义一个数据预处理函数：

```
def preprocess_img(img_path):
```



导入图像后，应该是一个矩阵了，这就是opencv的强大之处。



### 高斯模糊函数

第二个参数，高斯核为（5,5），核越大，越模糊。

第三个参数是核标准差，这里为0，即自动设置。

```
# 高斯模糊滤波去噪声
image_blurred = cv2.GaussianBlur(img, (5, 5), 0)
```

**原理**:

- 高斯模糊是通过与高斯函数（一个呈钟形的平滑曲线）相对应的核对图像进行卷积来实现的。这个过程会使图像中的每个像素和它周围像素的值混合，从而达到模糊的效果。

**作用**：减少算法对噪点的敏感性



如图，这是高斯函数。

![高斯函数](S:\myPython\CV for Fruit-Picking\problem1\思路\高斯函数.jpg)



### 对比度和亮度调整的作用

1. **提升图像质量**：
   - **对比度调整（alpha）**：提高图像的对比度可以使图像中的细节更加清晰，特别是在图像原本较为模糊或者平坦（对比度低）时。对比度增强后，图像的明暗区域差异会更加明显，有助于突出特征和边缘。
   - **亮度调整（beta）**：调整亮度有助于使图像在视觉上更加舒适，尤其是在原始图像过暗或过亮的情况下。适当的亮度可以确保图像中的重要特征不会因过度曝光或欠曝而丢失。
2. **为后续处理做准备**：
   - 在进行颜色空间转换（如转换到HSV色彩空间）之前，确保图像的亮度和对比度处于适宜的范围，可以使后续的色彩分析更加准确。比如，在进行颜色识别、物体跟踪等应用时，一个亮度和对比度适宜的图像会使得颜色特征更加突出，便于识别。
3. **增强图像的视觉效果**：
   - 在某些应用场景中，例如用户界面或图像展示，适当的亮度和对比度调整可以使图像对观看者更加吸引人，特别是在显示器或其他显示设备上。